<section id="quote-form">
<div class="container">
  <%# title %>
  <div class="heading-title heading-dotted text-center">
      <h2>Interventions</h2>
  </div>
  <%# form %>
  <div class="container form">
    <%= form_for(@intervention) do |f| %>
      <div>
        <%= f.label :customers_id %>
        <%= f.select :customers_id, getCustomers, {:disabled => "Select", selected: "Select" }, :id => 'customer', :onchange => pp("change") %>
      </div>
      
      
    <% end %>
  </div>
  <script>
    var  selectCustomer = document.querySelector('#customer');
    var customerId = selectCustomer.val();

    $(document).on("change", function(){
      $.ajax({
        url: "/building",
        method: "GET",  
        dataType: "json",
        data: {coucustomer_id: customerId},
        error: function (xhr, status, error) {
          console.error('AJAX Error: ' + status + error);
        },
        success: function (response) {
          console.log(response);
        }
      });
    });
  </script>
</div>